@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor HRM
participant ":AssignSkillUI" as UI
participant ":AssignSkillController" as CTRL
participant ":Repositories" as REP
participant "repositories\n:Repositories" as repositories
participant "skillRepository\n:SkillRepository" as SREP
participant "collaboratorRepository\n:CollaboratorRepository" as CREP
participant "collaborator:\nCollaborator" as collaborator

activate HRM

HRM -> UI : Request to assign one or more skills to a collaborator
activate UI

        UI -> CTRL: getSkill()
activate CTRL

                        CTRL -> REP: getInstance()

                        activate REP

                                REP --> CTRL: repositories
                        deactivate REP

                        CTRL -> repositories: getSkillsRepository()
                        activate repositories

                                repositories --> CTRL: skillsRepository
                        deactivate repositories
                        CTRL -> SREP: getSkill()
                        activate SREP

                                SREP --> CTRL: skill

                        deactivate SREP

                        CTRL --> UI: skill
                deactivate CTRL
UI -> HRM: Displays a list of available skills
deactivate UI

HRM -> UI : Provides collaborator details
activate UI

UI -> HRM : Shows details and requests confirmation
deactivate UI

HRM -> AssignSkillController : Confirms details
activate AssignSkillController

AssignSkillController -> REP: getInstance()
activate REP

REP --> AssignSkillController: repositories
deactivate REP

AssignSkillController -> CollaboratorRepository: getCollaboratorRepository()
activate CollaboratorRepository

CollaboratorRepository --> AssignSkillController: collaboratorRepository
deactivate CollaboratorRepository

AssignSkillController --> AssignSkillController : assignSkills(collaboratorId, skills)
AssignSkillController -> CollaboratorRepository: updateCollaborator(collaborator)
activate CollaboratorRepository

CollaboratorRepository --> AssignSkillController: Updated collaborator
deactivate CollaboratorRepository

deactivate AssignSkillController

AssignSkillController --> HRM: success

deactivate HRM

@enduml
