@startuml
skinparam packageStyle folder
skinparam shadowing false
skinparam linetype polyline
skinparam classAttributeIconSize 0

package UI {
class "ListTaskSpaceUI" as UserInterface
}

package Controller {
class "ListTaskController" as CTRL {
    + create()
    + getCollaboratorByEmail(email)
    + getStatusList()
    + getTaskList(collaborator, typeStatus)
    + getCollaboratorAgendaEntries(taskList,startDate,endDate)
}
}

package Domain {
package Model {
class Team {
    - List<Collaborator> members
    + inTeam(collaborator)
}

class AgendaEntry{
    - Date dateI
    - Date dateF
    - StatusOfEntry status
    + getStatusList()
}
}
package Repository {

class "Repositories" as RepositorySingleton {
    - Repositories()
    + getInstance(): Repositories
    + getCollaboratorRepository(): CollaboratorRepository
    + getTaskRepository(): TaskRepository
    + getTeamRepository(): TeamRepository
    + getAgenda(): Agenda
}

class "CollaboratorRepository" as collaboratorRepository {
    + getCollaboratorThoughEmail(email)
}

class "TaskRepository" as taskRepository {
    - List<Task> taskList
    - List<String> statusList
    + getStatusList()
    + getTaskList(teamList,typeStatus)
    + addTaskOfCollaborator(task)
}

class "TeamRepository" as teamRepository {
    + getTeamsThoughCollaborator(collaborator): List<Team>
}

class "Agenda" as agenda {
    - List<AgendaEntry> statusList

    + getCollaboratorAgendaEntries(taskList,startDate,endDate): List<AgendaEntries>
    + getStatusList()
}
}
package Mapper {
class "EntryMapper" as MapperDto {
    + toDTOList(listEntries): List<EntryDto>
    + toDTOEntry(entry): EntryDto
}
package DTO {
class "EntryDto" as DataTransferObject {
    - Team team
    - List<Vehicle> vehicles
    - Date dateI
    - Date dateF
    - StatusOfEntry status
    - GreenSpace greenSpace
    - List<Vehicle> vehicleList
    - DegreeOfUrgency degree
    - Task task
    + EntryDto(entry)
}
}
}
}

UserInterface ..> CTRL
CTRL ..> RepositorySingleton : repositories
RepositorySingleton --> RepositorySingleton : instance
CTRL ..> collaboratorRepository: getCollaboratorRepository
CTRL ..> taskRepository: getTaskRepository
CTRL ..> teamRepository: getTeamRepository
CTRL ..> agenda: getAgenda
CTRL ..> MapperDto: toDTOList
MapperDto "1" --> "*" DataTransferObject: entries
RepositorySingleton "1" ..> "1" collaboratorRepository: collaboratorRepository
RepositorySingleton "1" --> "1" taskRepository: taskRepository
RepositorySingleton "1" --> "1" teamRepository: teamRepository
RepositorySingleton "1" --> "1" agenda: agenda
teamRepository "1" --> "*" Team: collaborator
AgendaEntry "1" --> "*" agenda: statusList
CTRL ....> agenda: getStatusList
@enduml
