@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

'hide footbox
actor "Green Spaces\n Manager" as GSM
participant ":AddAgendaEntryUI" as UI
participant ":AddAgendaEntryController" as CTRL

activate GSM

    GSM -> UI : asks to add a new entry to the agenda
    activate UI

        UI -> CTRL** : create

        UI -> CTRL : getToDoListEntries()
        activate CTRL

           ref over CTRL
           Get To-Do List Entries with DTO

           end

            CTRL --> UI : toDoListDto
        deactivate CTRL

        UI --> GSM: shows all the tasks registered in the \nTo-Do List and asks you to select the \none you want to add
    deactivate UI

    GSM -> UI: select the desired task and its start and\n end date
    activate UI

        UI -> CTRL : getTask(toDoListEntry)
        activate CTRL

            ref over CTRL
            Get Task

            end

            CTRL --> UI : task
        deactivate CTRL

        UI -> CTRL : getGreenSpace(toDoListEntry)
        activate CTRL

            ref over CTRL
            Get GreenSpace

            end

            CTRL --> UI : greenSpace
        deactivate CTRL

        UI -> CTRL : createAgendaEntry(task, greenSpace, startDate, endDate)
        activate CTRL

            ref over CTRL
            Create Agenda Entry

            end

            CTRL --> UI : agendaEntry
            deactivate CTRL

        UI --> GSM: shows all data and requests confirmation
    deactivate UI

    GSM -> UI: confirms data
    activate UI

        UI -> CTRL : addAgendaEntry(agendaEntry)
        activate CTRL

            ref over CTRL
            Add Agenda Entry

            end

            CTRL --> UI : operation success
        deactivate CTRL

        UI --> GSM: displays operation success
    deactivate UI

deactivate GSM

@enduml