@startuml

skinparam packageStyle folder
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto

skinparam classAttributeIconSize 0

'left to right direction

package "UI" #DDDDDD {

    class AssignVehicleUI {
    }
}


package "Controller" #DDDDDD {

    class AssignVehicleController {
        + AssignVehicleController(agenda, vehicleRepository)
        + getAgendaEntries()
        + getVehicleList(agendaEntryDto)
        + toDomain(dto)
        + assignVehicleToAgendaEntry(vehicleDto)
    }

}

package "Domain" #DDDDDD {

package "Repository" #DDDDDD {

    class Repositories {
        - Repositories()
        + getInstance() : Repositories
        + getAgenda()
        + getVehicleRepository()

    }

    class Agenda {
        + getAgendaEntries()
        + assignVehicleToAgendaEntry(agendaEntry, vehicle)
    }

    class VehicleRepository {
        + getVehicleList(agendaEntryDto)
    }

}

package "Mapper" #DDDDDD {

    class AgendaMapper {
        + agendaEntriesToDto(listEntries)
    }

    class VehicleRepositoryMapper {
        + vehiclesToDto(listVehicles)
    }
}

package "DTO" #DDDDDD {

    class AgendaEntryDto {
    }

    class VehicleDto {
    }

}

    class Entry {
        - task : Task
        - greenSpace : GreenSpace
    }

    class AgendaEntry {
        - startDate : Date
        - endDate : Date
        - status : enum
        - team : Team
        + validateAgendaEntryToAssignTeam()
        + assignTeam(team)
    }

    class GreenSpace {
        - name : String
        - type : enum
        - area : double
        - address : String
        + GreenSpace(name, type, area, address)
    }

    class Task {
        - description : String
        - team : Team
        - vehicles : List<Vehicle>
        - duration : Date
        + Task(description, team, vehicles, duration)
    }

}

AssignVehicleUI ..> AssignVehicleController
AssignVehicleController ..> Repositories : repositories
Repositories --> Repositories : instance
AssignVehicleController ..> Agenda : agenda
AssignVehicleController ..> VehicleRepository : vehicleRepository

AssignVehicleController ..> AgendaMapper : agendaEntriesDto
AssignVehicleController ..> VehicleRepositoryMapper : vehiclesDto
AssignVehicleController ..> Agenda : listEntries
AssignVehicleController ..> VehicleRepository : listVehicles

Repositories --> "1" Agenda
Repositories --> "1" VehicleRepository

AgendaEntryDto ..> AgendaMapper : agendaEntryDto
VehicleDto ..> VehicleRepositoryMapper : vehicleDto

Entry --|> AgendaEntry : extends
AgendaEntry --o Task : has
AgendaEntry --o GreenSpace : has

@enduml