@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

autonumber

actor "Green Space\n Manager" as GSM
participant ":AssignTeamUI" as UI
participant ":AssignTeamController" as CTRL

activate GSM

    GSM -> UI : asks to assign a team to an agenda entry
    activate UI

    UI -> CTRL** : create

    UI -> CTRL : getAgendaEntries()
    activate CTRL

        ref over CTRL
        Get Agenda entries with DTO

        end

        CTRL --> UI : agendaEntriesDto
    deactivate CTRL

    UI --> GSM : shows all the agenda entries created and \nasks you to select one
    deactivate UI

    GSM -> UI : choose an agenda entry
    activate UI

    UI -> CTRL : getValidTeams(agendaEntryDto)
    activate CTRL

        ref over CTRL
        Get valid Teams for the Agenda entry with DTO

        end

        CTRL --> UI : teamsDto
    deactivate CTRL

    UI --> GSM : shows all the teams available to carry out \nthat task and asks you to select one
    deactivate UI

    GSM -> UI : choose a team
    activate UI

        UI --> GSM : shows all data and requests confirmation
    deactivate UI

    GSM -> UI : confirms data
    activate UI

        UI -> CTRL : assignTeamToAgendaEntry(teamDto)
        activate CTRL

            ref over CTRL
            Assign Team

            end

            CTRL --> UI : operation success
        deactivate CTRL

        UI -> CTRL : showEmailServices()
        activate CTRL

            ref over CTRL
            Get Email Services

            end

            CTRL --> UI : emailServicesDto
        deactivate CTRL

        UI --> GSM : shows the available e-mail services and asks \nto choose one
    deactivate UI

    GSM -> UI : choose an e-mail service
    activate UI

        UI -> CTRL : sendEmailToTeamMembers(teamDto, emailService)
        activate CTRL

            ref over CTRL
            Send Email to Team Members

            end

            CTRL --> UI : operation success

        UI --> GSM : displays operation success
    deactivate UI

deactivate GSM

@enduml
